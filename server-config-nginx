upstream myprojects_server {
    server unix:/var/run/myprojects.sock fail_timeout=0;
}
server {
    server_name <myprojects>.com;
    error_log /var/log/nginx/<myprojects>-error.log error;
    access_log /var/log/nginx/<myprojects>-access.log ;
    location /media {
        root   <project-root>/;
        }
    location ~* ^.+\.(html|jpg|jpeg|gif|png|ico|css|zip|tgz|gz|rar|bz2|doc|xls|exe|pdf|ppt|txt|tar|mid|midi|wav|bmp|rtf|js|svg)$
        {
        root <project-root>;
        expires 30d;
        break;
        }
    location / {
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_pass http://myprojects_server;
        }
    }
